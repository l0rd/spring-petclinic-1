apiVersion: 1.0.0
metadata:
  generateName: petclinic
components:
  - type: chePlugin
    id: redhat/java11/latest
    alias: java
  - type: dockerimage
    alias: devtooling
    image: quay.io/eclipse/che-java8-maven:nightly
    memoryLimit: 512Mi
  - type: dockerimage
    alias: mysql
    image: docker.io/centos/mysql-57-centos7
    memoryLimit: 512Mi
commands:
  - name: maven build
    actions:
      - type: exec
        component: devtooling
        command: "mvn clean install"
        workdir: "${CHE_PROJECTS_ROOT}/spring-petclinic"
